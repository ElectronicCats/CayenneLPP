function lppDecode(e){var i={0:{size:1,name:"digital_in",signed:!1,divisor:1},1:{size:1,name:"digital_out",signed:!1,divisor:1},2:{size:2,name:"analog_in",signed:!0,divisor:100},3:{size:2,name:"analog_out",signed:!0,divisor:100},100:{size:4,name:"generic",signed:!1,divisor:1},101:{size:2,name:"illuminance",signed:!1,divisor:1},102:{size:1,name:"presence",signed:!1,divisor:1},103:{size:2,name:"temperature",signed:!0,divisor:10},104:{size:1,name:"humidity",signed:!1,divisor:2},113:{size:6,name:"accelerometer",signed:!0,divisor:1e3},115:{size:2,name:"barometer",signed:!1,divisor:10},116:{size:2,name:"voltage",signed:!1,divisor:100},117:{size:2,name:"current",signed:!1,divisor:1e3},118:{size:4,name:"frequency",signed:!1,divisor:1},120:{size:1,name:"percentage",signed:!1,divisor:1},121:{size:2,name:"altitude",signed:!0,divisor:1},125:{size:2,name:"concentration",signed:!1,divisor:1},128:{size:2,name:"power",signed:!1,divisor:1},130:{size:4,name:"distance",signed:!1,divisor:1e3},131:{size:4,name:"energy",signed:!1,divisor:1e3},132:{size:2,name:"direction",signed:!1,divisor:1},133:{size:4,name:"time",signed:!1,divisor:1},134:{size:6,name:"gyrometer",signed:!0,divisor:100},135:{size:3,name:"colour",signed:!1,divisor:1},136:{size:9,name:"gps",signed:!0,divisor:[1e4,1e4,100]},142:{size:1,name:"switch",signed:!1,divisor:1}};function s(e,i,s){for(var n=0,d=0;d<e.length;d++){if(e[d]>255)throw"Byte value overflow!";n=n<<8|e[d]}if(i){var r=1<<8*e.length;n=n>r-1>>1?n-r:n}return n/=s}for(var n=[],d=0;d<e.length;){var r=e[d++],o=e[d++];if(void 0===i[o])throw"Sensor type error!: "+o;var a=0,g=i[o];switch(o){case 113:case 134:a={x:s(e.slice(d+0,d+2),g.signed,g.divisor),y:s(e.slice(d+2,d+4),g.signed,g.divisor),z:s(e.slice(d+4,d+6),g.signed,g.divisor)};break;case 136:a={latitude:s(e.slice(d+0,d+3),g.signed,g.divisor[0]),longitude:s(e.slice(d+3,d+6),g.signed,g.divisor[1]),altitude:s(e.slice(d+6,d+9),g.signed,g.divisor[2])};break;case 135:a={r:s(e.slice(d+0,d+1),g.signed,g.divisor),g:s(e.slice(d+1,d+2),g.signed,g.divisor),b:s(e.slice(d+2,d+3),g.signed,g.divisor)};break;default:a=s(e.slice(d,d+g.size),g.signed,g.divisor)}n.push({channel:r,type:o,name:g.name,value:a}),d+=g.size}return n}function decodeUplink(e){bytes=e.bytes,fPort=e.fPort;var i={};return lppDecode(bytes,1).forEach(function(e){i[e.name+"_"+e.channel]=e.value}),{data:i}}
